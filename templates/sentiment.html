<!DOCTYPE html>

<html lang="en">
<head>
  <title>Assignment 2</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}"/>
</head>

<body>
    	<div class="card">

		    <div style="padding:50px; margin: 20px; border: solid 15px;">

                <h2 class="title text-center" style="padding-bottom: 75px;"> Sentiment Analysis </h2>


                <div class="row">
                     <div class="col-sm-6">
                     {% for table in tables %}
                        <tr>
                            <td> {{titles[loop.index]}}</td>
                            <td> {{ table|safe }}</td>
                        </tr>
                      {% endfor %}

                    </div>

                    <div class="col-sm-6">
                        <div>
                            <canvas id="myChart" width="50px" height="50px"></canvas>
                        </div>
                    </div>

                </div>



            </div>


        </div>

</body>

<script type="text/javascript">


    var a={{cnt_of_pos_neg}}
    console.log(a);

    let data_count = [];

    for (let i=0; i<a.length; i++) {
        let count = a[i];
        data_count.push(count);
    }

    let data =   [{{cnt_of_pos_neg}},{{cnt_of_pos_neg}}];
    let labels = ["Positive","Negative"];
            // Pie chart
            new Chart(document.getElementById("myChart"), {
            type: 'pie',
            data: {
                labels: labels,
                datasets: [
              {
                label: "Sentimental Analysis",
                backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
                data: data_count
              }
            ]
          },
          options: {
            legend: { display: false },
            title: {
              display: true,
              text: 'Provinces Population'
            }
          }
      });

     </script>




</html>